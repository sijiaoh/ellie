#!/usr/bin/env bash

set -eu

./bin/rails db:create
./bin/rails db:migrate

# https://github.com/rails/tailwindcss-rails/issues/153
./bin/rails tailwindcss:build

bundle exec rubocop --format quiet
bundle exec erblint .
bundle exec rails_best_practices --silent .
bundle exec annotate --models --frozen
# TODO: Ruby 3.1 syntax error.
# bundle exec brakeman --quiet --no-pager --no-summary
bundle exec rspec
